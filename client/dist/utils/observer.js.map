{"version":3,"sources":["/src/utils/observer.js"],"names":["fnsList","listen","key","fn","push","trigger","shift","apply","arguments","fns","length","i","module","exports"],"mappings":";AACA,IAAIA,UAAU,EAAd;;AAEA;;;;;;AAMA,SAASC,MAAT,CAAiBC,GAAjB,EAAsBC,EAAtB,EAA0B;AACxB,MAAI,EAAED,OAAOF,OAAT,CAAJ,EAAuB;AACrBA,YAAQE,GAAR,IAAe,EAAf;AACD;;AAEDF,UAAQE,GAAR,EAAaE,IAAb,CAAkBD,EAAlB;AACD;;AAED;;;;AAIA,SAASE,OAAT,GAAoB;AAClB;AACA,MAAIH,MAAM,GAAGI,KAAH,CAASC,KAAT,CAAeC,SAAf,CAAV;AACA,MAAIC,MAAMT,QAAQE,GAAR,CAAV;;AAEA,MAAI,CAACO,GAAD,IAAQA,IAAIC,MAAJ,KAAe,CAA3B,EAA8B;AAC5B,WAAO,KAAP;AACD;;AAED,OAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIF,IAAIC,MAAxB,EAAgC,EAAEC,CAAlC,EAAqC;AACnCF,QAAIE,CAAJ,EAAOJ,KAAP,CAAa,IAAb,EAAmBC,SAAnB;AACD;;AAED,SAAO,IAAP;AACD;;AAEDI,OAAOC,OAAP,GAAiB;AACfZ,UAAQA,MADO;AAEfI,WAASA;AAFM,CAAjB","file":"observer.js","sourcesContent":["\nvar fnsList = {}\n\n/**\n * 监听事件，观察者\n * @param  {String}   key [事件关键字]\n * @param  {Function} fn  [回调函数]\n * @return {[void]}       [空]\n */\nfunction listen (key, fn) {\n  if (!(key in fnsList)) {\n    fnsList[key] = []\n  }\n\n  fnsList[key].push(fn)\n}\n\n/**\n * 事件触发函数\n * @return {Boolean} [成功返回真，否则返回假]\n */\nfunction trigger () {\n  // 获取传递进来的首个参数，即为key值，并从参数列表中出队列\n  var key = [].shift.apply(arguments)\n  var fns = fnsList[key]\n\n  if (!fns || fns.length === 0) {\n    return false\n  }\n\n  for (var i = 0; i < fns.length; ++i) {\n    fns[i].apply(this, arguments)\n  }\n\n  return true\n}\n\nmodule.exports = {\n  listen: listen,\n  trigger: trigger\n}\n"]}